<!DOCTYPE HTML>
<html>
	<head>
		<title>Forbidden Island</title>
		<meta name="description" content="CS 4540 Final Project - Forbidden Island Pixi.JS">
		<meta name="author" content="Ethan Hayes, Devon Winkler, Colton Lillywhite, Logan Gore">
		<meta charset="UTF-8">
		<meta name="keywords" content="University, Utah, Forbidden, Island, CS, 4540, Student, Project">
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/app.css">
		<script src="jquery-1.11.2.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="pixi.js"></script>
		<script src="js/Tile.js"></script>
		<!--- CARDS -->
		<script src="js/cards/HelicopterLiftCard.js"></script>
		<script src="js/cards/CupcakeCard.js"></script>
		<!-- /CARDS -->
		<script src="js/gameManager.js"></script>
		<script src="js/Treasure.js"></script>
		<script src="js/Player.js"></script>
		<script src="js/PlayerPawn.js"></script>
		<script src="js/PlayerHand.js"></script>
		<style>
			body {
				margin: 0;
				padding: 0;
			}
		</style>
	</head>
	<body>
		<script>
			var numPlayers = 1;
			var roles = ["Diver", "Explorer", "Navigator", "Pilot", "Engineer", "Messenger"];
			$(document).ready(function() {
				$("#myModal").modal('show');

				$("#playerSelect").on('change', function() {
					console.log('player select change');
					numPlayers = this.value;
					console.log('numPlayers: ' + numPlayers);
					// Get how many player selects there currently are
					var numSelects = $("#roleSelectDiv > select").length;
					console.log('numSelects: ' + numSelects);
					// Get difference between numPlayers selected and numSelects
					var diff = numPlayers - numSelects;
					console.log('diff : ' + diff);

					// If diff is negative, remove select(s)
					if (diff < 0) {
						diff = Math.abs(diff);
						var temp = numSelects;
						for (var i = 0; i < diff; i++) {
							console.log('removing at id')
							$("#selectLabel"+temp).remove();
							$("#roleSelect"+temp).remove();
							temp--;
						}
					}
					// If diff is positive, add select(s)
					else {
						var temp = numSelects+1;
						for (var i = 0; i < diff; i++) {
							var roleSelect = "<br/>";
							roleSelect += "<p id='selectLabel"+i+"'>Player"+temp+"</p>";
							roleSelect += "<select id='roleSelect"+i+"' class='form-control'>";
							for (var j = 0; j < roles.length; j++) {
								roleSelect += "<option value="+roles[j]+">"+roles[j]+"</option>";
							}
							roleSelect += "</select>";
							roleSelect += "</div>";
							roleSelect += "</div>";
							$("#roleSelectDiv").append(roleSelect);
							temp++;
						}
					}
					// If it does, remove it and then append new one based on new number of players
					/*if ($("#roleSelectDiv").length) {
						console.log('role select div exists');
						$("#modalContent").remove("#roleSelectDiv");
					}
					// Based on number of players selected, generate selects for roles
					for (var i = 1; i <= numPlayers; i++) {
						var roleSelect = "<div class='row'>";
						roleSelect += "<div id='roleSelectDiv' class='col-md-4'>"
						roleSelect += "<p>Player"+i+"</p>";
						roleSelect += "<select id='roleSelect'"+i+" class='form-control'>";
						for (var j = 0; j < roles.length; j++) {
							roleSelect += "<option value="+roles[j]+">"+roles[j]+"</option>";
						}
						roleSelect += "</select>";
						roleSelect += "</div>";
						roleSelect += "</div>";

						$("#modalContent").append(roleSelect);
					}*/
				});

				$("#startGameBtn").on('click', function() {

				});
			});
		</script>
		<div id="myModal" class="modal fade">
		    <div class="modal-dialog">
		        <div class="modal-content">
		            <div class="modal-header">
		                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		                <h4 class="modal-title">Start Game</h4>
		            </div>
		            <div id="modalContent" class="modal-body">
		                <p>Please select the number of players:</p>
		                <div class="row">
			                <div class="col-md-4">
				                <select id="playerSelect" class="form-control">
								    <option value="1">One</option>
								    <option value="2">Two</option>
								    <option value="3">Three</option>
								    <option value="4">Four</option>
								</select>
							</div>
						</div>
						<div id="roleSelectDiv" class="col-md-4">
							<br/>
							<p id="selectLabel1">Player 1</p>
							<select id="roleSelect1" class="form-control">
								<script>
									var roleSelect = document.getElementById('roleSelect1');
									for (var i = 0; i < roles.length; i++) {
										roleSelect.options[roleSelect.options.length] = new Option(roles[i], roles[i]);
									}
								</script>
							</select>
						</div>
		                <!--<p class="text-warning"><small>If you don't save, your changes will be lost.</small></p>-->
		            </div>
		            <div class="modal-footer">
		                <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
		                <button id="startGameBtn" type="button" class="btn btn-primary">Start Game</button>
		            </div>
		        </div>
		    </div>
		</div>
</body>
</html>                                		
		<div id="mode-buttons" class="btn-group" role="group">
		  <button id="move" type="button" autofocus="true" class="btn btn-default">Move</button>
		  <button id="shore" type="button" class="btn btn-default">Shore Up</button>
		  <button id="give" type="button" class="btn btn-default">Give Card</button>
		</div>
		<script src="js/app.js"></script>

	</body>
</html>
